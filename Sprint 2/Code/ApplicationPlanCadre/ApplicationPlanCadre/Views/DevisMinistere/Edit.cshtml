@model ApplicationPlanCadre.Models.DevisMinistere
@{
    ViewBag.Title = "Modifier un devis ministériel";
}

@using (Html.BeginForm("Edit", "DevisMinistere", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(model => model.idDevis)
    @Html.HiddenFor(model => model.codeProgramme)
    @Html.HiddenFor(model => model.annee)
    @Html.HiddenFor(model => model.codeSpecialisation)
    @Html.HiddenFor(model => model.docMinistere)

    <div class="container">
        <div class="form-box">

            <header>

                <h1>@ViewBag.Title</h1>

                <h3>@Html.DisplayFor(e => e.nom)</h3>

            </header>

            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

            <div class="row">
                <div class="col-md-6">

                    <div class="form-group">
                        @Html.LabelFor(m => m.specialisation)
                        @Html.TextBoxFor(m => m.specialisation, new { @maxlength = "30", @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.specialisation, "", new { @class = "text-danger" })
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.sanction)
                        @Html.TextBoxFor(model => model.sanction, new { @maxlength = "50", @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.sanction, "", new { @class = "text-danger" })
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.nbUnite)
                        @Html.TextBoxFor(model => model.nbUnite, new { @maxlength = "6", @class = "form-control small" })
                        @Html.ValidationMessageFor(model => model.nbUnite, "", new { @class = "text-danger" })
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.condition)
                        @Html.TextBoxFor(model => model.condition, new { @maxlength = "300", @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.condition, "", new { @class = "text-danger" })
                    </div>

                    <div class="element">
                        @Html.LabelFor(model => model.docMinistere)

                        <input type="file" id="pdf" name="docMinistere" class="inputfile" accept="application/pdf" />

                        <label for="pdf" class="file-button fancy-button rouge">
                            <span class="upload glyphicon glyphicon-download-alt"><!----></span>
                            <span class="filename">
                                @(Model.docMinistere == null ? @Html.Raw("Téléverser un PDF") : @Html.DisplayFor(model => model.docMinistere))
                            </span>
                        </label>

                        <p>@Html.ValidationMessage("PDF", new { @class = "text-danger" })</p>
                    </div>

                </div>
                <div class="col-md-6">
                    <div class="field-box">

                        <div class="element">
                            <p>Heures</p>
                            <hr />
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.nbHeureFrmGenerale)
                            @Html.TextBoxFor(model => model.nbHeureFrmGenerale, new { @type = "number", @min = "0", @step = "10", @maxlength = "4", @class = "form-control small" })
                            @Html.ValidationMessageFor(model => model.nbHeureFrmGenerale, "", new { @class = "text-danger" })
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.nbHeureFrmSpecifique)
                            @Html.TextBoxFor(model => model.nbHeureFrmSpecifique, new { @type="number", @min = "0", @step = "10", @maxlength = "4", @class = "form-control small" })
                            @Html.ValidationMessageFor(model => model.nbHeureFrmSpecifique, "", new { @class = "text-danger" })
                        </div>

                    </div>
                </div>
            </div>

            <hr />

            <input type="submit" value="Enregistrer" class="fancy-button" />

            <a class="fancy-button rouge" href='@Url.Action("Info", "DevisMinistere", new { idDevis = Model.idDevis })'>Annuler</a>

        </div>
    </div>
}

@Scripts.Render("~/Scripts/jquery.custom-file-input.js")